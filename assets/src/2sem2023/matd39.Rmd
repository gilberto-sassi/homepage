---
title: Análise Descritiva e Exploratória de Dados A - MATD39
author: Gilberto Pereira Sassi
date: Segundo semestre de 2023
output:
  html_document:
    theme: readable
    highlight: kate
    toc: true
    toc_float: true
---

## Cronograma

[Cronograma - Análise Descritiva e Exploratória de Dados A - MATD39](cronograma-matd39.xlsx)

## Servidor no discord

Toda a nossa comunicação será realizada pelo discord chamado _estatísticos_. Entre no servidor usando o seguinte link: [estatísticos](https://discord.gg/48u3s5JcrA).

## Slides

[Primeiro dia de aula](primeiro-dia-matd39.pdf){target="_blank"}<br>
[Exploração e visualização de dados](exploracao-visualizacao.pdf){target="_blank"}<br>
[`rmarkdown` e `quarto`](rmarkdown-quarto.pdf){target="_blank"}

## Código e _datasets_ da sala de aula

[Aula no laboratório até o dia 31/08/2023](arquivos.zip){target="_blank"}<br>
[Aula do dia 31/08/2023](https://docs.google.com/spreadsheets/d/15yqfrpXLJKrmu-RLDT8OWUBgH8PK1QRlv1wRjdrO8SQ/edit?usp=sharing){target="_blank"}

---

Como explicado em sala de aula, cada estudante vai analisar uma amostra de candidatos do ENEM de 2022 em específica cidade (olhe na tabela abaixo). Em sua cidade, a/o estudante vai verificar se raça (`tp_cor_raca`) e/ou tipo de escola (`tp_escola`) _exercem influência_ na nota de matemática (`nu_nota_mt`).

As variáveis dos _datasets_ estão explicadas em [dicionário microdados - ENEM 2022](dicionario_enem_2022.xlsx).

```{r}
#| echo: false
#| message: false
library(readxl)
library(glue)
library(tidyverse)

set.seed(12345)

df_estudantes <- read_xlsx(glue("matd39-inscritos.xlsx"))
df_cidades_raw <- read_xlsx(glue("maiores-cidades-br.xlsx"))
df_cidades <- sample_n(df_cidades_raw, nrow(df_estudantes))

col_csv <- seq_len(nrow(df_cidades)) |>
  map_chr(\(k) {
    glue("[{df_cidades$cidade[k]}]({df_cidades$apelido[k]}.csv)")
  })
col_xlsx <- seq_len(nrow(df_cidades)) |>
  map_chr(\(k) {
    glue("[{df_cidades$cidade[k]}]({df_cidades$apelido[k]}.xlsx)")
  })

df_tab <- cbind(
  df_cidades |> select(-apelido),
  col_csv, col_xlsx,
  df_estudantes$matricula, df_estudantes$nome |> str_to_title()
) |>
  rename(
    Cidade = cidade, UF = estado,
    "Arquivos .csv" = "col_csv",
    "Arquivos .xlsx" = "col_xlsx",
    Matricula = "df_estudantes$matricula",
    Nome = "str_to_title(df_estudantes$nome)"
  )

# inclusão de eduarda
`%notin%`  <- \(x, y) !(x %in% y)
df_estudantes_eduarda <- read_xlsx(glue("lista_frequencia_matd39.xlsx"))
df_estudantes_eduarda <- df_estudantes_eduarda |>
  filter(email %notin% df_estudantes$email)
df_cidades_eduarda <- read_xlsx(glue("maiores-cidades-br.xlsx"))
df_cidades_eduarda <- df_cidades_eduarda |>
  filter(apelido %notin% df_cidades$apelido)
df_cidades_eduarda <- sample_n(df_cidades_eduarda, nrow(df_estudantes_eduarda))

col_csv <- seq_len(nrow(df_cidades_eduarda)) |>
  map_chr(\(k) {
    glue("[{df_cidades_eduarda$cidade[k]}]({df_cidades_eduarda$apelido[k]}.csv)")
  })
col_xlsx <- seq_len(nrow(df_cidades_eduarda)) |>
  map_chr(\(k) {
    glue("[{df_cidades_eduarda$cidade[k]}]({df_cidades_eduarda$apelido[k]}.xlsx)")
  })

df_tab_eduarda <- cbind(
  df_cidades_eduarda |> select(-apelido),
  col_csv, col_xlsx,
  df_estudantes_eduarda$matricula,
  df_estudantes_eduarda$nome |> str_to_title()
) |>
  rename(
    Cidade = cidade, UF = estado,
    "Arquivos .csv" = "col_csv",
    "Arquivos .xlsx" = "col_xlsx",
    Matricula = "df_estudantes_eduarda$matricula",
    Nome = "str_to_title(df_estudantes_eduarda$nome)"
  )

df_tab_final <- rbind(
  df_tab,
  df_tab_eduarda
) |>
  arrange(Nome)

# imprimindo a tabela na página
knitr::kable(df_tab_final, caption = "Conjunto de dados de cada estudante com amostras de candidatos do ENEM 2022 para cidades do Brasil.")
```

## Primeiro dia de aula

O critério de avaliação, datas das provas e demais informações foram divulgadas no primeiro dia de aula. Estas informações estão nos slides usados, que você pode acessar pelo seguinte link: [primeiro dia de aula](primeiro-dia-matd39.pdf){target="_blank"}.

## Referências

[Estatística básica](estatistica-basica-bussab-morettin.pdf){target="_blank"}<br>
[Applied statistics and probability for engineers](applied-statistics-montgomery.pdf){target="_blank"}<br>
[`R` for Data Science](https://r4ds.hadley.nz/){target="_blank"}<br>
[`python` for Data Analysis](https://wesmckinney.com/book/){target="_blank"}<br>
[`rmarkdown`: The definitive guide](https://bookdown.org/yihui/rmarkdown/){target="_blank"}<br>
[`quarto` documentation](https://quarto.org/docs/guide/){target="_blank"}